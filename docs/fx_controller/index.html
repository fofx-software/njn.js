<!DOCTYPE html>
<html>
<head>
  <title>fxjs.Controller api</title>
  <script type="text/javascript" src="../../fx.js"></script>
  <script type="text/javascript" src="../../fx_controller.js"></script>
  <link rel="stylesheet" href="../prism.css"/>
  <style>
    body {
      counter-reset: section subsection;
    }
    .list-section {
      counter-reset: subsection;
    }
    .list-section h2 a::before {
      counter-increment: section;
      content: counter(section);
    }
    .list-body {
      padding-left: 5%;
    }
    h3 a:first-of-type::before {
      counter-increment: subsection;
      content: counter(section) "." counter(subsection);
    }
  </style>
</head>
<body fx-controller="body-controller">
  <h1>fxjs.Controller</h1>
  <p>is a module that makes it easy to build interactive web apps and DRY your HTML with powerful templating.</p>

  <div class="list-section">
    <h2><a href=""></a>. Download the code:</h2>
    <div class="list-body">
      <h3><a href=""></a>. <a href="../../fx.js">fx.js</a></h3>
      <h3><a href=""></a>. <a href="../../fx_controller.js">fx_controller.js</a></h3>
    </div>
  </div>

  <div class="list-section">
    <h2><a href=""></a>. Put it in your HTML:</h2>
    <div class="list-body">
<!----><pre class="language-markup"><code>
<!---->&lt;head&gt;
<!---->  &lt;script src="fx.js"&gt;&lt;/script&gt; &lt;!--run fx.js first--&gt;
<!---->  &lt;script src="fx_controller.js&gt;&lt;/script&gt;
<!---->&lt;/head&gt;
<!----></code></pre>
    <i>syntax highlighting courtesy of <a href="http://prismjs.com" target="_blank">Prism</a></i>
    </div>
  </div>

  <div class="list-section">
    <h2><a href=""></a>. Quick setup</h2>
    <div class="list-body">
<!----><pre class="language-markup"><code id="code1">
<!---->&lt;body&gt;
<!---->  &lt;div fx-controller="example-controller"&gt;
<!---->    {{exampleText}} &lt;!-- will be processed as 'hello world' --&gt;
<!---->  &lt;/div&gt;
<!---->  &lt;script&gt;
<!---->    fxjs.controller('example-controller', {
<!---->      exampleText: 'hello world'
<!---->    });
<!---->  &lt;/script&gt;
<!---->&lt;/body&gt;
<!----></code></pre>
    </div>
  </div>

  <div class="list-section">
    <h2><a href=""></a>. Initialize the controller:</h2>
    <div class="list-body">
      <pre class="language-javascript"><code>fxjs.controller(); // returns an instance of fxjs.Controller</code></pre>
      The first argument gives the new fxjs.Controller a name so you can reference it in your HTML:
      <pre class="language-javascript"><code>fxjs.controller('example-controller');</code></pre>
      The second argument provides the fxjs.Controller's <code class="language-javascript">viewInterface</code>:
<!----><pre class="language-javascript"><code>
<!---->fxjs.controller('example-controller', {
<!---->  exampleText: 'hello world'
<!---->});
<!----></code></pre>
    </div>
  </div>

  <div class="list-section">
    <h2><a href=""></a> Referencing the viewInterface</h2>
    <div class="list-body">
      The properties of the <code class="language-javascript">viewInterface</code> can be accessed from the HTML:
<!----><pre class="language-markup"><code>
<!---->&lt;div fx-controller="example-controller"&gt;{{exampleText}}&lt;/div&gt;
<!---->&lt;script&gt;fxjs.controller('example-controller', { exampleText: 'hello world!' });&lt;/script&gt;
<!----></code></pre>
      <h3><a href=""></a>. Referencing a method in the viewInterface</h3>
      When the property is a function, in normal cases it is called without any arguments:
<!----><pre class="language-markup"><code>
<!---->&lt;div fx-controller="example-controller"&gt;
<!---->  {{getText}} &lt;!--processes to 'my text'--&gt;
<!---->&lt;/div&gt;
<!---->&lt;script&gt;
<!---->  fxjs.controller('example-controller', {
<!---->    getText: function(arg1) { if(typeof arg1 === 'undefined') return 'my text'; }
<!---->  });
<!---->&lt;/script&gt;
<!----></code></pre>
      <h3><a href=""></a>. Referencing an object in the viewInterface</h3>
<!----><pre class="language-markup"><code>
<!---->&lt;div fx-controller="example-controller"&gt;
<!---->  &lt;span fx-context="subObj"&gt;
<!---->    {{myText}} &lt;!--processes to "it's me!"--&gt;
<!---->  &lt;/span&gt;
<!---->&lt;/div&gt;
<!---->&lt;script&gt;
<!---->  fxjs.controller('example-controller', {
<!---->    subObj: { myText: 'it's me!' }
<!---->  });
<!---->&lt;/script&gt;
<!----></code></pre>
    </div>
  </div>

  <script type="text/javascript" src="../prism.js"></script>
</body>
</html>
